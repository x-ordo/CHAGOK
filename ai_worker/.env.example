# LEH AI Worker - Environment Variables Example
# Copy this file to .env and fill in your values

# ============================================
# AWS Configuration
# ============================================

# S3 Configuration
AWS_REGION=ap-northeast-2
S3_EVIDENCE_BUCKET=leh-evidence-prod
S3_DOWNLOAD_TMP_PATH=/tmp

# DynamoDB Configuration
DYNAMODB_TABLE=leh_evidence
DYNAMODB_TABLE_CASE_SUMMARY=leh_case_summary

# Qdrant Configuration
QDRANT_HOST=localhost                    # Qdrant server host (empty = in-memory)
QDRANT_PORT=6333                         # Qdrant server port
QDRANT_API_KEY=                          # Qdrant API key (optional)
QDRANT_COLLECTION_PREFIX=case_rag_       # Collection name prefix

# Redis Configuration (Optional, for caching)
REDIS_HOST=your-redis-endpoint
REDIS_PORT=6379
REDIS_DB=0

# ============================================
# OpenAI API Configuration
# ============================================

# OpenAI API Key (required for all AI features)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Model Configuration
OPENAI_GPT_MODEL=gpt-4o                # For summarization, analysis, tagging
OPENAI_WHISPER_MODEL=whisper-1         # For audio transcription
OPENAI_VISION_MODEL=gpt-4o            # For image emotion/context analysis
OPENAI_EMBEDDING_MODEL=text-embedding-3-small  # For vector embeddings

# ============================================
# AI Pipeline Configuration
# ============================================

# Parser Settings
MAX_FILE_SIZE_MB=100                   # Maximum file size to process
ENABLE_IMAGE_VISION=true               # Use GPT-4o Vision for images
ENABLE_IMAGE_OCR=false                 # Use Tesseract OCR for images (optional)

# Analysis Settings
ENABLE_ARTICLE_840_TAGGING=true        # Auto-tag divorce grounds (Article 840)
ENABLE_EVIDENCE_SUMMARIZATION=true     # Auto-summarize evidence
ENABLE_RISK_ANALYSIS=false             # Enable risk scoring (optional)

# Vector Store Settings
VECTOR_DIMENSION=1536                  # Embedding dimension (text-embedding-3-small)
SIMILARITY_THRESHOLD=0.7               # Minimum similarity score for RAG search

# ============================================
# Logging & Monitoring
# ============================================

LOG_LEVEL=INFO                         # DEBUG, INFO, WARNING, ERROR, CRITICAL
ENABLE_CLOUDWATCH_LOGS=true

# Sentry (Optional, for error tracking)
# SENTRY_DSN=https://your-sentry-dsn-here

# ============================================
# Development & Testing
# ============================================

# Environment
ENVIRONMENT=dev                        # dev, staging, prod

# Testing
PYTEST_MOCK_S3=true                    # Use mock S3 for tests
PYTEST_MOCK_QDRANT=true                # Use in-memory Qdrant for tests
